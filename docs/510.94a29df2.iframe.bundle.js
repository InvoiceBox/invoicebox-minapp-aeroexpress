"use strict";(self.webpackChunkinvoicebox_minapp_aeroexpress=self.webpackChunkinvoicebox_minapp_aeroexpress||[]).push([[510],{"./src/components/Loader/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>Loader});var _templateObject,dist=__webpack_require__("./node_modules/@invoicebox/ui/dist/index.js"),taggedTemplateLiteral=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"));const Wrapper=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-align: center;\n    justify-content: center;\n"])));var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Loader=()=>(0,jsx_runtime.jsx)(Wrapper,{children:(0,jsx_runtime.jsx)(dist.sy,{width:"120px"})});Loader.__docgenInfo={description:"",methods:[],displayName:"Loader"}},"./src/network/dummy.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>dummyTariffs});const dummyTariffs=[{id:1,name:"Семейный туда-обратно + 2",description:'2 поездки в вагоне Стандартного класса (1 поездка в аэропорт, 1 поездка из аэропорта) для 2 взрослых и 2 детей. Действует в течение 30 суток с выбранной даты. Проход возможен в течение 15 минут с момента прохода первого пассажира.<br><font color="red">Тариф не предназначен для поездки между терминалами B, C и D, E, F аэропорта Шереметьево.</font>',daysFrom:0,daysTo:90,seatsSelect:!1,active:!0,price:2100,maxTickets:1,providerTariffId:21,createdAt:"2023-02-01T03:22:29+03:00"},{id:2,name:"Туда-Обратно",description:'2 поездки (1 поездка в аэропорт, 1 поездка на вокзал) в вагоне Стандартного класса. \nДействителен на всех трех направлениях от/до московских аэропортов в течение 30-ти дней с даты, указанной на билете.<br><font color="red">Тариф не предназначен для поездки между терминалами B, C и D, E, F аэропорта Шереметьево.</font>',daysFrom:0,daysTo:270,seatsSelect:!1,active:!0,price:1050,maxTickets:10,providerTariffId:2,createdAt:"2023-02-01T03:22:29+03:00"}]},"./src/network/envLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kg:()=>ENV_PARAM_NAME,No:()=>STAGE_PARAM_VALUE,eN:()=>envLogic});var URLS=function(URLS){return URLS.dev="https://aeroexpress.dev.invbox.ru/api/public",URLS.stage="https://aeroexpress.stage.invbox.ru/api/public",URLS.prod="https://aeroexpress.business/api/public",URLS}(URLS||{});const ENV_PARAM_NAME="env",STAGE_PARAM_VALUE="stage";const envLogic=new class EnvLogic{getEnv(){return new URL(window.location.href).searchParams.get(ENV_PARAM_NAME)}getBaseUrl(){const env=this.getEnv();return"dev"===env?URLS.dev:env===STAGE_PARAM_VALUE?URLS.stage:URLS.prod}appendEnv(href){const url=new URL(href),env=this.getEnv();return env?(url.searchParams.append(ENV_PARAM_NAME,env),url.href):href}}},"./src/network/http.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>createOrderRequest,P:()=>fetchTariffsRequest});const isObject=value=>"object"==typeof value&&null!==value,isObjectCustom=value=>isObject(value)&&!(value instanceof RegExp)&&!(value instanceof Error)&&!(value instanceof Date),mapObjectSkip=Symbol("mapObjectSkip"),_mapObject=(object,mapper,options,isSeen=new WeakMap)=>{if(options={deep:!1,target:{},...options},isSeen.has(object))return isSeen.get(object);isSeen.set(object,options.target);const{target}=options;delete options.target;const mapArray=array=>array.map((element=>isObjectCustom(element)?_mapObject(element,mapper,options,isSeen):element));if(Array.isArray(object))return mapArray(object);for(const[key,value]of Object.entries(object)){const mapResult=mapper(key,value,object);if(mapResult===mapObjectSkip)continue;let[newKey,newValue,{shouldRecurse=!0}={}]=mapResult;"__proto__"!==newKey&&(options.deep&&shouldRecurse&&isObjectCustom(newValue)&&(newValue=Array.isArray(newValue)?mapArray(newValue):_mapObject(newValue,mapper,options,isSeen)),target[newKey]=newValue)}return target};function mapObject(object,mapper,options){if(!isObject(object))throw new TypeError(`Expected an object, got \`${object}\` (${typeof object})`);return _mapObject(object,mapper,options)}const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu");function camelCase(input,options){if("string"!=typeof input&&!Array.isArray(input))throw new TypeError("Expected the input to be `string | string[]`");if(options={pascalCase:!1,preserveConsecutiveUppercase:!1,...options},0===(input=Array.isArray(input)?input.map((x=>x.trim())).filter((x=>x.length)).join("-"):input.trim()).length)return"";const toLowerCase=!1===options.locale?string=>string.toLowerCase():string=>string.toLocaleLowerCase(options.locale),toUpperCase=!1===options.locale?string=>string.toUpperCase():string=>string.toLocaleUpperCase(options.locale);if(1===input.length)return SEPARATORS.test(input)?"":options.pascalCase?toUpperCase(input):toLowerCase(input);return input!==toLowerCase(input)&&(input=((string,toLowerCase,toUpperCase,preserveConsecutiveUppercase)=>{let isLastCharLower=!1,isLastCharUpper=!1,isLastLastCharUpper=!1,isLastLastCharPreserved=!1;for(let index=0;index<string.length;index++){const character=string[index];isLastLastCharPreserved=!(index>2)||"-"===string[index-3],isLastCharLower&&UPPERCASE.test(character)?(string=string.slice(0,index)+"-"+string.slice(index),isLastCharLower=!1,isLastLastCharUpper=isLastCharUpper,isLastCharUpper=!0,index++):isLastCharUpper&&isLastLastCharUpper&&LOWERCASE.test(character)&&(!isLastLastCharPreserved||preserveConsecutiveUppercase)?(string=string.slice(0,index-1)+"-"+string.slice(index-1),isLastLastCharUpper=isLastCharUpper,isLastCharUpper=!1,isLastCharLower=!0):(isLastCharLower=toLowerCase(character)===character&&toUpperCase(character)!==character,isLastLastCharUpper=isLastCharUpper,isLastCharUpper=toUpperCase(character)===character&&toLowerCase(character)!==character)}return string})(input,toLowerCase,toUpperCase,options.preserveConsecutiveUppercase)),input=input.replace(LEADING_SEPARATORS,""),input=options.preserveConsecutiveUppercase?((input,toLowerCase)=>(LEADING_CAPITAL.lastIndex=0,input.replaceAll(LEADING_CAPITAL,(match=>toLowerCase(match)))))(input,toLowerCase):toLowerCase(input),options.pascalCase&&(input=toUpperCase(input.charAt(0))+input.slice(1)),((input,toUpperCase)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,input.replaceAll(NUMBERS_AND_IDENTIFIER,((match,pattern,offset)=>["_","-"].includes(input.charAt(offset+match.length))?match:toUpperCase(match))).replaceAll(SEPARATORS_AND_IDENTIFIER,((_,identifier)=>toUpperCase(identifier)))))(input,toUpperCase)}class QuickLRU extends Map{constructor(options={}){if(super(),!(options.maxSize&&options.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof options.maxAge&&0===options.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=options.maxSize,this.maxAge=options.maxAge||Number.POSITIVE_INFINITY,this.onEviction=options.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(cache){if("function"==typeof this.onEviction)for(const[key,item]of cache)this.onEviction(key,item.value)}_deleteIfExpired(key,item){return"number"==typeof item.expiry&&item.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(key,item.value),this.delete(key))}_getOrDeleteIfExpired(key,item){if(!1===this._deleteIfExpired(key,item))return item.value}_getItemValue(key,item){return item.expiry?this._getOrDeleteIfExpired(key,item):item.value}_peek(key,cache){const item=cache.get(key);return this._getItemValue(key,item)}_set(key,value){this.cache.set(key,value),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(key,item){this.oldCache.delete(key),this._set(key,item)}*_entriesAscending(){for(const item of this.oldCache){const[key,value]=item;if(!this.cache.has(key)){!1===this._deleteIfExpired(key,value)&&(yield item)}}for(const item of this.cache){const[key,value]=item;!1===this._deleteIfExpired(key,value)&&(yield item)}}get(key){if(this.cache.has(key)){const item=this.cache.get(key);return this._getItemValue(key,item)}if(this.oldCache.has(key)){const item=this.oldCache.get(key);if(!1===this._deleteIfExpired(key,item))return this._moveToRecent(key,item),item.value}}set(key,value,{maxAge=this.maxAge}={}){const expiry="number"==typeof maxAge&&maxAge!==Number.POSITIVE_INFINITY?Date.now()+maxAge:void 0;return this.cache.has(key)?this.cache.set(key,{value,expiry}):this._set(key,{value,expiry}),this}has(key){return this.cache.has(key)?!this._deleteIfExpired(key,this.cache.get(key)):!!this.oldCache.has(key)&&!this._deleteIfExpired(key,this.oldCache.get(key))}peek(key){return this.cache.has(key)?this._peek(key,this.cache):this.oldCache.has(key)?this._peek(key,this.oldCache):void 0}delete(key){const deleted=this.cache.delete(key);return deleted&&this._size--,this.oldCache.delete(key)||deleted}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(newSize){if(!(newSize&&newSize>0))throw new TypeError("`maxSize` must be a number greater than 0");const items=[...this._entriesAscending()],removeCount=items.length-newSize;removeCount<0?(this.cache=new Map(items),this.oldCache=new Map,this._size=items.length):(removeCount>0&&this._emitEvictions(items.slice(0,removeCount)),this.oldCache=new Map(items.slice(removeCount)),this.cache=new Map,this._size=0),this.maxSize=newSize}*keys(){for(const[key]of this)yield key}*values(){for(const[,value]of this)yield value}*[Symbol.iterator](){for(const item of this.cache){const[key,value]=item;!1===this._deleteIfExpired(key,value)&&(yield[key,value.value])}for(const item of this.oldCache){const[key,value]=item;if(!this.cache.has(key)){!1===this._deleteIfExpired(key,value)&&(yield[key,value.value])}}}*entriesDescending(){let items=[...this.cache];for(let i=items.length-1;i>=0;--i){const item=items[i],[key,value]=item;!1===this._deleteIfExpired(key,value)&&(yield[key,value.value])}items=[...this.oldCache];for(let i=items.length-1;i>=0;--i){const item=items[i],[key,value]=item;if(!this.cache.has(key)){!1===this._deleteIfExpired(key,value)&&(yield[key,value.value])}}}*entriesAscending(){for(const[key,value]of this._entriesAscending())yield[key,value.value]}get size(){if(!this._size)return this.oldCache.size;let oldCacheSize=0;for(const key of this.oldCache.keys())this.cache.has(key)||oldCacheSize++;return Math.min(this._size+oldCacheSize,this.maxSize)}entries(){return this.entriesAscending()}forEach(callbackFunction,thisArgument=this){for(const[key,value]of this.entriesAscending())callbackFunction.call(thisArgument,value,key,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}const cache=new QuickLRU({maxSize:1e5}),camelcase_keys_isObject=value=>!("object"!=typeof value||null===value||value instanceof RegExp||value instanceof Error||value instanceof Date),transform=(input,options={})=>{if(!camelcase_keys_isObject(input))return input;const{exclude,pascalCase=!1,stopPaths,deep=!1,preserveConsecutiveUppercase=!1}=options,stopPathsSet=new Set(stopPaths),makeMapper=parentPath=>(key,value)=>{if(deep&&camelcase_keys_isObject(value)){const path=void 0===parentPath?key:`${parentPath}.${key}`;stopPathsSet.has(path)||(value=mapObject(value,makeMapper(path)))}if(!exclude||!((array,key)=>array.some((element=>"string"==typeof element?element===key:(element.lastIndex=0,element.test(key)))))(exclude,key)){const cacheKey=pascalCase?`${key}_`:key;if(cache.has(cacheKey))key=cache.get(cacheKey);else{const returnValue=camelCase(key,{pascalCase,locale:!1,preserveConsecutiveUppercase});key.length<100&&cache.set(cacheKey,returnValue),key=returnValue}}return[key,value]};return mapObject(input,makeMapper(void 0))};var snakecase_keys=__webpack_require__("./node_modules/snakecase-keys/index.js"),snakecase_keys_default=__webpack_require__.n(snakecase_keys),envLogic=__webpack_require__("./src/network/envLogic.ts");const fetchTariffsRequest=()=>fetch("".concat(envLogic.eN.getBaseUrl(),"/tariffs")).then((response=>{if(!response.ok)throw new Error(response.statusText);return response})).then((response=>response.json())).then((response=>response.data.map((item=>function camelcaseKeys(input,options){return Array.isArray(input)?Object.keys(input).map((key=>transform(input[key],options))):transform(input,options)}(item))).filter((tariff=>tariff.active)))),createOrderRequest=data=>fetch("".concat(envLogic.eN.getBaseUrl(),"/orders"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(snakecase_keys_default()(data))}).then((response=>{if(!response.ok)throw new Error(response.statusText);return response})).then((response=>response.json())).then((response=>response.data))},"./src/index.css":()=>{},"./node_modules/snake-case/dist.es2015/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{snakeCase:()=>snakeCase});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");function lowerCase(str){return str.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function replace(input,re,value){return re instanceof RegExp?input.replace(re,value):re.reduce((function(input,re){return input.replace(re,value)}),input)}function dotCase(input,options){return void 0===options&&(options={}),function noCase(input,options){void 0===options&&(options={});for(var _a=options.splitRegexp,splitRegexp=void 0===_a?DEFAULT_SPLIT_REGEXP:_a,_b=options.stripRegexp,stripRegexp=void 0===_b?DEFAULT_STRIP_REGEXP:_b,_c=options.transform,transform=void 0===_c?lowerCase:_c,_d=options.delimiter,delimiter=void 0===_d?" ":_d,result=replace(replace(input,splitRegexp,"$1\0$2"),stripRegexp,"\0"),start=0,end=result.length;"\0"===result.charAt(start);)start++;for(;"\0"===result.charAt(end-1);)end--;return result.slice(start,end).split("\0").map(transform).join(delimiter)}(input,(0,tslib_es6.Cl)({delimiter:"."},options))}function snakeCase(input,options){return void 0===options&&(options={}),dotCase(input,(0,tslib_es6.Cl)({delimiter:"_"},options))}},"./node_modules/snakecase-keys/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{const map=__webpack_require__("./node_modules/snakecase-keys/node_modules/map-obj/index.js"),{snakeCase}=__webpack_require__("./node_modules/snake-case/dist.es2015/index.js");function mapperOptions(key,val,options){return options.shouldRecurse?{shouldRecurse:options.shouldRecurse(key,val)}:void 0}module.exports=function(obj,options){if(Array.isArray(obj)){if(obj.some((item=>item.constructor!==Object)))throw new Error("obj must be array of plain objects")}else if(obj.constructor!==Object)throw new Error("obj must be an plain object");return options=Object.assign({deep:!0,exclude:[],parsingOptions:{}},options),map(obj,(function(key,val){return[(patterns=options.exclude,value=key,patterns.some((function(pattern){return"string"==typeof pattern?pattern===value:pattern.test(value)}))?key:snakeCase(key,options.parsingOptions)),val,mapperOptions(key,val,options)];var patterns,value}),options)}},"./node_modules/snakecase-keys/node_modules/map-obj/index.js":module=>{const isObject=value=>"object"==typeof value&&null!==value,mapObjectSkip=Symbol("skip"),isObjectCustom=value=>isObject(value)&&!(value instanceof RegExp)&&!(value instanceof Error)&&!(value instanceof Date),mapObject=(object,mapper,options,isSeen=new WeakMap)=>{if(options={deep:!1,target:{},...options},isSeen.has(object))return isSeen.get(object);isSeen.set(object,options.target);const{target}=options;delete options.target;const mapArray=array=>array.map((element=>isObjectCustom(element)?mapObject(element,mapper,options,isSeen):element));if(Array.isArray(object))return mapArray(object);for(const[key,value]of Object.entries(object)){const mapResult=mapper(key,value,object);if(mapResult===mapObjectSkip)continue;let[newKey,newValue,{shouldRecurse=!0}={}]=mapResult;"__proto__"!==newKey&&(options.deep&&shouldRecurse&&isObjectCustom(newValue)&&(newValue=Array.isArray(newValue)?mapArray(newValue):mapObject(newValue,mapper,options,isSeen)),target[newKey]=newValue)}return target};module.exports=(object,mapper,options)=>{if(!isObject(object))throw new TypeError(`Expected an object, got \`${object}\` (${typeof object})`);return mapObject(object,mapper,options)},module.exports.mapObjectSkip=mapObjectSkip}}]);