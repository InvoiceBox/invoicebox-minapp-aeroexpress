"use strict";(self.webpackChunkinvoicebox_minapp_aeroexpress=self.webpackChunkinvoicebox_minapp_aeroexpress||[]).push([[7],{"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>action});var v4=__webpack_require__("./node_modules/@storybook/addon-actions/node_modules/uuid/dist/esm-browser/v4.js"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("@storybook/preview-api"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("@storybook/core-events/preview-errors"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./src/widgets/App/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FetchError:()=>FetchError,HeightByContainer:()=>HeightByContainer,Real:()=>Real,SubmitError:()=>SubmitError,Success:()=>Success,Unavailable:()=>Unavailable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var ___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/widgets/App/index.tsx"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_invoicebox_ui__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),__webpack_require__("./src/index.css"),__webpack_require__("./node_modules/@invoicebox/ui/dist/index.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"widgets/App",component:___WEBPACK_IMPORTED_MODULE_0__.q,tags:["autodocs"]};var USE_CASES=function(USE_CASES){return USE_CASES.real="widgets-app-inner--inner-available-real-fetch-real-submit",USE_CASES.success="widgets-app-inner--inner-available-success-fetch-success-submit",USE_CASES.unavailable="widgets-app-inner--inner-unavailable",USE_CASES.fetchError="widgets-app-inner--inner-available-error-fetch",USE_CASES.submitError="widgets-app-inner--inner-available-success-fetch-error-submit",USE_CASES.heightByContainer="widgets-app-inner--inner-height-by-container",USE_CASES}(USE_CASES||{});const IFrame=_ref=>{let{initialUseCase,initialOrderContainerId,initialMetaData,initialFullHeight=!1}=_ref;const[height,setHeight]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialFullHeight?400:287);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const handleMessage=event=>{var message;if(event.data.id!==initialUseCase)return;const{id,...data}=event.data;if("init"!==data.action)"height"!==data.action||setHeight(data.data);else{message={id:initialUseCase,action:"init",data:{public:{fullHeight:initialFullHeight,locale:"ru",minappType:"suborder",orderContainerId:initialOrderContainerId||"order-container-id",shopId:1,userEmail:"user@email.ru",userName:"user-name",userPhone:"+79999999999"},private:{metaData:[initialMetaData||{iataCode:"VKO"}]}}},document.getElementById("IFRAME_ID").contentWindow.postMessage(message,"*")}if("init"!==data.action);else{(message=>{document.getElementById("IFRAME_ID").contentWindow.postMessage(message,"*")})({id:initialUseCase,action:"init",data:{public:{fullHeight:initialFullHeight,locale:"ru",minappType:"suborder",orderContainerId:initialOrderContainerId||"order-container-id",shopId:1,userEmail:"user@email.ru",userName:"user-name",userPhone:"+79999999999"},private:{metaData:[initialMetaData||{iataCode:"VKO"}]}}})}};return window.addEventListener("message",handleMessage),()=>{window.removeEventListener("message",handleMessage)}}),[initialUseCase,initialOrderContainerId,initialMetaData,initialFullHeight]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{border:"1px solid #9d9",borderRightWidth:2,display:"flex"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("iframe",{height,id:"IFRAME_ID",src:"/iframe.html?viewMode=story&id=".concat(initialUseCase,"&args="),frameBorder:"0",title:"title",width:"100%",scrolling:"no"})})},Success={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{padding:15},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingBottom:5},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_invoicebox_ui__WEBPACK_IMPORTED_MODULE_4__.o5,{variant:"bodyL",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Высоту сообщает мини-приложение"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Успешная загрузка тарифов"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Успешная отправка формы"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(IFrame,{initialUseCase:USE_CASES.success})]})},Unavailable={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{padding:15},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingBottom:5},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_invoicebox_ui__WEBPACK_IMPORTED_MODULE_4__.o5,{variant:"bodyL",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Высоту сообщает мини-приложение"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Приложение сообщает, что оно не доступно"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(IFrame,{initialUseCase:USE_CASES.unavailable,initialMetaData:{}})]})},FetchError={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{padding:15},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingBottom:5},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_invoicebox_ui__WEBPACK_IMPORTED_MODULE_4__.o5,{variant:"bodyL",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Высоту сообщает мини-приложение"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Ошибка загрузки тарифов"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(IFrame,{initialUseCase:USE_CASES.fetchError})]})},SubmitError={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{padding:15},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingBottom:5},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_invoicebox_ui__WEBPACK_IMPORTED_MODULE_4__.o5,{variant:"bodyL",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Высоту сообщает мини-приложение"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Успешная загрузка тарифов"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Ошибка отправки формы"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(IFrame,{initialUseCase:USE_CASES.submitError})]})},HeightByContainer={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{padding:15},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingBottom:5},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_invoicebox_ui__WEBPACK_IMPORTED_MODULE_4__.o5,{variant:"bodyL",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Мини-приложение подстраивается под высоту контейнера"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(IFrame,{initialUseCase:USE_CASES.heightByContainer,initialFullHeight:!0})]})},Real={args:{initialOrderContainerId:"order-container-id"},render:_ref2=>{let{initialOrderContainerId}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{padding:15},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{paddingBottom:5},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_invoicebox_ui__WEBPACK_IMPORTED_MODULE_4__.o5,{variant:"bodyL",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Высоту сообщает мини-приложение"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Тарифы загружаются с сервера"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"Форма отправляется на сервер"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(IFrame,{initialUseCase:USE_CASES.real,initialOrderContainerId},initialOrderContainerId)]})}};Success.parameters={...Success.parameters,docs:{...Success.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    return <div style={{\n      padding: 15\n    }}>\n                <div style={{\n        paddingBottom: 5\n      }}>\n                    <Typography variant="bodyL">\n                        <div>Высоту сообщает мини-приложение</div>\n                        <div>Успешная загрузка тарифов</div>\n                        <div>Успешная отправка формы</div>\n                    </Typography>\n                </div>\n                <IFrame initialUseCase={USE_CASES.success} />\n            </div>;\n  }\n}',...Success.parameters?.docs?.source}}},Unavailable.parameters={...Unavailable.parameters,docs:{...Unavailable.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    return <div style={{\n      padding: 15\n    }}>\n                <div style={{\n        paddingBottom: 5\n      }}>\n                    <Typography variant="bodyL">\n                        <div>Высоту сообщает мини-приложение</div>\n                        <div>Приложение сообщает, что оно не доступно</div>\n                    </Typography>\n                </div>\n                <IFrame initialUseCase={USE_CASES.unavailable} initialMetaData={{}} />\n            </div>;\n  }\n}',...Unavailable.parameters?.docs?.source}}},FetchError.parameters={...FetchError.parameters,docs:{...FetchError.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    return <div style={{\n      padding: 15\n    }}>\n                <div style={{\n        paddingBottom: 5\n      }}>\n                    <Typography variant="bodyL">\n                        <div>Высоту сообщает мини-приложение</div>\n                        <div>Ошибка загрузки тарифов</div>\n                    </Typography>\n                </div>\n                <IFrame initialUseCase={USE_CASES.fetchError} />\n            </div>;\n  }\n}',...FetchError.parameters?.docs?.source}}},SubmitError.parameters={...SubmitError.parameters,docs:{...SubmitError.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    return <div style={{\n      padding: 15\n    }}>\n                <div style={{\n        paddingBottom: 5\n      }}>\n                    <Typography variant="bodyL">\n                        <div>Высоту сообщает мини-приложение</div>\n                        <div>Успешная загрузка тарифов</div>\n                        <div>Ошибка отправки формы</div>\n                    </Typography>\n                </div>\n                <IFrame initialUseCase={USE_CASES.submitError} />\n            </div>;\n  }\n}',...SubmitError.parameters?.docs?.source}}},HeightByContainer.parameters={...HeightByContainer.parameters,docs:{...HeightByContainer.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    return <div style={{\n      padding: 15\n    }}>\n                <div style={{\n        paddingBottom: 5\n      }}>\n                    <Typography variant="bodyL">\n                        <div>Мини-приложение подстраивается под высоту контейнера</div>\n                    </Typography>\n                </div>\n                <IFrame initialUseCase={USE_CASES.heightByContainer} initialFullHeight />\n            </div>;\n  }\n}',...HeightByContainer.parameters?.docs?.source}}},Real.parameters={...Real.parameters,docs:{...Real.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialOrderContainerId: 'order-container-id'\n  },\n  render: ({\n    initialOrderContainerId\n  }) => {\n    return <div style={{\n      padding: 15\n    }}>\n                <div style={{\n        paddingBottom: 5\n      }}>\n                    <Typography variant=\"bodyL\">\n                        <div>Высоту сообщает мини-приложение</div>\n                        <div>Тарифы загружаются с сервера</div>\n                        <div>Форма отправляется на сервер</div>\n                    </Typography>\n                </div>\n                <IFrame key={initialOrderContainerId} initialUseCase={USE_CASES.real} initialOrderContainerId={initialOrderContainerId} />\n            </div>;\n  }\n}",...Real.parameters?.docs?.source}}};const __namedExportsOrder=["Success","Unavailable","FetchError","SubmitError","HeightByContainer","Real"]},"./src/components/Loader/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>Loader});var _templateObject,dist=__webpack_require__("./node_modules/@invoicebox/ui/dist/index.js"),taggedTemplateLiteral=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"));const Wrapper=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-align: center;\n    justify-content: center;\n"])));var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Loader=()=>(0,jsx_runtime.jsx)(Wrapper,{children:(0,jsx_runtime.jsx)(dist.sy,{width:"120px"})});Loader.__docgenInfo={description:"",methods:[],displayName:"Loader"}},"./src/network/envLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>envLogic});var process=__webpack_require__("./node_modules/process/browser.js"),API_ORIGINS=function(API_ORIGINS){return API_ORIGINS.dev="https://aeroexpress.dev.invbox.ru",API_ORIGINS.stage="https://aeroexpress.stage.invbox.ru",API_ORIGINS.prod="https://aeroexpressbusiness.ru",API_ORIGINS}(API_ORIGINS||{}),ENV_VARIANTS=function(ENV_VARIANTS){return ENV_VARIANTS.storybookDev="storybookDev",ENV_VARIANTS.storybookProd="storybookProd",ENV_VARIANTS.craDev="craDev",ENV_VARIANTS.craProd="craProd",ENV_VARIANTS}(ENV_VARIANTS||{});const IS_STORYBOOK_DEV="true"===process.env.STORYBOOK_ENV_DEV,ENV_VARIANT=IS_STORYBOOK_DEV?ENV_VARIANTS.storybookDev:ENV_VARIANTS.storybookProd,API_URL={storybookDev:"".concat(API_ORIGINS.stage).concat("/api/public"),storybookProd:"".concat(API_ORIGINS.prod).concat("/api/public"),craDev:"".concat(API_ORIGINS.stage).concat("/api/public"),craProd:"/api/public"}[ENV_VARIANT];const envLogic=new class EnvLogic{getApiUrl(){return API_URL}appendCurrentOrigin(href){const{origin}=window.location;return"".concat(origin).concat(href)}}},"./src/widgets/App/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>App});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/@invoicebox/ui/dist/index.js");var esm=__webpack_require__("./node_modules/@invoicebox/minapp-sdk/esm/index.js");const getHandler=handler=>function(){esm.u.isConnected()&&handler(...arguments)},handlers={handleError:getHandler(esm.u.onError.bind(esm.u)),handleHeightChange:getHandler(esm.u.onHeightChange.bind(esm.u)),handleUnavailable:getHandler(esm.u.onUnavailable.bind(esm.u)),handleDone:getHandler(esm.u.onDone.bind(esm.u)),handleLink:getHandler(esm.u.onLink.bind(esm.u))},MOSKOW_AIRPORTS=["VKO","DME","SVO"];var _templateObject,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js");const Wrapper=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n    background-color: ",";\n"])),dist.VN.base);var Form=__webpack_require__("./src/components/Form/index.tsx");const ROUTES_tariffs="/tariffs";var envLogic=__webpack_require__("./src/network/envLogic.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const AppInner=_ref=>{let{initialData,tariffs,events,createOrder}=_ref;const{handleError,handleHeightChange,handleUnavailable,handleDone,handleLink:onLink}=events,setHeightElRef=((fullHeight,onHeightChange)=>{const[elRef,setElRef]=(0,react.useState)(null),handleHeightChange=(0,dist.zX)(onHeightChange);return(0,react.useEffect)((()=>{if(!elRef)return;if(fullHeight)return;const observer=new ResizeObserver((()=>{handleHeightChange(elRef.offsetHeight)}));return observer.observe(elRef),()=>observer.disconnect()}),[elRef,handleHeightChange,fullHeight]),(0,react.useEffect)((()=>{if(!elRef)return;if(!fullHeight)return;const resets=[];let currentElement=elRef;for(;currentElement;){const element=currentElement,{height}=element.style;resets.push((()=>{element.style.height=height})),element.style.height="100%",currentElement=element.parentElement}return()=>resets.forEach((reset=>reset()))}),[elRef,fullHeight]),setElRef})(initialData.fullHeight,handleHeightChange),isSuborder=(initialData=>"suborder"===initialData.minappType)(initialData);((onUnavailable,isSuborder)=>{const handleUnavailable=(0,dist.zX)(onUnavailable);(0,react.useEffect)((()=>{isSuborder&&esm.u.matchMetaDataValues("iataCode",MOSKOW_AIRPORTS).then((isMatch=>{isMatch||handleUnavailable()})).catch((()=>{}))}),[isSuborder,handleUnavailable])})(handleUnavailable,isSuborder);const handleSubmit=((initialData,onDone,onError,createOrder)=>(0,react.useCallback)((async form=>{const{orderContainerId,userName,userEmail,userPhone}=initialData;await createOrder({...form,orderContainerId,firstName:userName,email:userEmail,phone:userPhone}).then((response=>{onDone(response.url)})).catch((()=>onError()))}),[onDone,onError,initialData,createOrder]))(initialData,handleDone,handleError,createOrder),handleLink=(0,react.useCallback)((event=>{event.preventDefault();const{currentTarget}=event;onLink(currentTarget.getAttribute("href"))}),[onLink]),formKey=(0,react.useMemo)((()=>tariffs.map((_ref2=>{let{id}=_ref2;return id})).join("")),[tariffs]);return(0,jsx_runtime.jsx)(Wrapper,{ref:setHeightElRef,children:(0,jsx_runtime.jsx)(Form.l,{onSubmit:handleSubmit,initialTariffs:tariffs,onLink:handleLink,tariffsHref:envLogic.e.appendCurrentOrigin(ROUTES_tariffs),buttonText:isSuborder?"Добавить в заказ":"Купить билет"},formKey)})};AppInner.__docgenInfo={description:"",methods:[],displayName:"AppInner",props:{initialData:{required:!0,tsType:{name:"Awaited",elements:[{name:"ReturnType",elements:[{name:"invoiceboxMinapp.getInitialData"}],raw:"ReturnType<typeof invoiceboxMinapp.getInitialData>"}],raw:"Awaited<ReturnType<typeof invoiceboxMinapp.getInitialData>>"},description:""},tariffs:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n    id: number;\n    name: string;\n    description: string;\n    daysFrom: number;\n    daysTo: number;\n    seatsSelect: boolean;\n    active: boolean;\n    price: number;\n    maxTickets: number;\n    providerTariffId: number;\n    createdAt: string;\n}",signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"description",value:{name:"string",required:!0}},{key:"daysFrom",value:{name:"number",required:!0}},{key:"daysTo",value:{name:"number",required:!0}},{key:"seatsSelect",value:{name:"boolean",required:!0}},{key:"active",value:{name:"boolean",required:!0}},{key:"price",value:{name:"number",required:!0}},{key:"maxTickets",value:{name:"number",required:!0}},{key:"providerTariffId",value:{name:"number",required:!0}},{key:"createdAt",value:{name:"string",required:!0}}]}}],raw:"TTariff[]"},description:""},events:{required:!0,tsType:{name:"handlers"},description:""},createOrder:{required:!0,tsType:{name:"createOrderRequest"},description:""}}};var Loader=__webpack_require__("./src/components/Loader/index.tsx");const App=_ref=>{let{fetchTariffs,createOrder}=_ref;(()=>{const connect=(0,react.useCallback)((()=>{esm.u.isConnected()||esm.u.connect()}),[]);(0,react.useEffect)((()=>(connect(),()=>{esm.u.disconnect()})),[connect])})();const events=handlers,{handleError}=events,initialData=(()=>{const[initialData,setInitialData]=(0,react.useState)(null);return(0,react.useEffect)((()=>{esm.u.getInitialData().then((resp=>setInitialData(resp))).catch((()=>{}))}),[]),initialData})(),{tariffs,isTariffsInitialized}=((onError,fetchTariffs)=>{const[tariffs,setTariffs]=(0,react.useState)([]),[isTariffsInitialized,setInitializedFlag]=(0,react.useState)(!1),handleError=(0,dist.zX)(onError),handleFetchTariffs=(0,dist.zX)(fetchTariffs);return(0,react.useEffect)((()=>{handleFetchTariffs().then(setTariffs).catch((()=>handleError())).finally((()=>setInitializedFlag(!0)))}),[handleError,handleFetchTariffs]),{tariffs,isTariffsInitialized}})(handleError,fetchTariffs);return isTariffsInitialized&&initialData?(0,jsx_runtime.jsx)(AppInner,{events,initialData,tariffs,createOrder}):(0,jsx_runtime.jsx)(Loader.a,{})};App.__docgenInfo={description:"",methods:[],displayName:"App",props:{fetchTariffs:{required:!0,tsType:{name:"fetchTariffsRequest"},description:""},createOrder:{required:!0,tsType:{name:"createOrderRequest"},description:""}}}},"./src/index.css":()=>{}}]);